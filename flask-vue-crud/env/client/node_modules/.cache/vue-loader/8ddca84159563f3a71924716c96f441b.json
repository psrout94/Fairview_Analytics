{"remainingRequest":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstout/fairview_analytics/flask-vue-crud/env/client/src/components/HomePage.vue?vue&type=style&index=0&id=df02a584&scoped=true&lang=css&","dependencies":[{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/src/components/HomePage.vue","mtime":1586447105864},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnN0b2NrX3RpY2tlciB7CiAgd2lkdGg6IDYwJSAhaW1wb3J0YW50OwogIG1hcmdpbjogMCBhdXRvOwp9Ci5uZXdzX3RpY2tlciB7CiAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7CiAgdG9wOiA1MCUgIWltcG9ydGFudDsKICBsZWZ0OiA4MyUgIWltcG9ydGFudDsKICAvKiBicmluZyB5b3VyIG93biBwcmVmaXhlcyAqLwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpICFpbXBvcnRhbnQ7CiAgd2lkdGg6IDMwJSAhaW1wb3J0YW50OwogIGhlaWdodDogNjAlICFpbXBvcnRhbnQ7CiAgei1pbmRleDogMTAwICFpbXBvcnRhbnQ7Cn0KCi5zY3JvbGwgewogIGhlaWdodDogODAlICFpbXBvcnRhbnQ7CiAgb3ZlcmZsb3cteTogc2Nyb2xsICFpbXBvcnRhbnQ7Cn0KCi5zcGFuX25lZ2F0aXZlIHsKICBwYWRkaW5nOiAycHg7Cn0KCi5zcGFuX3Bvc2l0aXZlIHsKICBwYWRkaW5nOiAycHg7Cn0K"},{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"inspire\">\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      app\n    >\n      <v-list light>\n        <v-list-item-group v-model=\"item\">\n          <v-list-item v-for=\"(item, i) in nameandicons\" :key=\"i\" value=\"home\"\n          @click=\"redirectFunc(item.text)\">\n            <v-list-item-action>\n              <v-icon v-text=\"item.icon\"></v-icon>\n            </v-list-item-action>\n            <v-list-item-content>\n              <v-list-item-title v-text=\"item.text\"></v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list-item-group>\n      </v-list>\n    </v-navigation-drawer>\n    <v-app-bar\n      app\n      color=\"blue darken-4\"\n      dark\n      dense\n    >\n      <v-snackbar\n        v-model=\"tickererror\">\n        Error Retrieving Stock Data\n        <v-btn\n          color=\"blue\"\n          text\n          left\n          @click=\"tickererror = false\"\n        >\n          Close\n        </v-btn>\n      </v-snackbar>\n      <v-app-bar-nav-icon @click.stop=\"drawer=!drawer\" />\n      <v-toolbar-title>Global Analytics</v-toolbar-title>\n      <v-system-bar class=\"stock_ticker\" v-if=\"stockdata\">\n        <marquee-text\n          :duration=\"45\">\n          &nbsp;\n          <span v-for=\"(item, index) in lowstockdata\" :key=\"index\" class=\"span_negative\">\n            {{ item.ticker }}:\n            <span class=\"badge badge-danger ml-2\">\n              {{ item.value }} </span>\n          </span>\n          <span v-for=\"item in highstockdata\" :key=\"item.ticker\" class=\"span_positive\">\n            {{ item.ticker }}:\n            <span class=\"badge badge-success ml-2\" >\n              {{ item.value }} </span>\n          </span>\n        </marquee-text>\n      </v-system-bar>\n    </v-app-bar>\n    <v-content>\n      <v-container\n        class=\"fill-height\"\n        fluid\n      >\n        <v-row\n          align=\"center\"\n          justify=\"center\"\n        >\n          <v-col class=\"text-center\">\n            <v-tooltip left>\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  :href=\"source\"\n                  icon\n                  large\n                  target=\"_blank\"\n                  v-on=\"on\"\n                >\n                  <v-icon large>mdi-code-tags</v-icon>\n                </v-btn>\n              </template>\n              <span>Source</span>\n            </v-tooltip>\n\n            <v-tooltip right>\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  icon\n                  large\n                  href=\"https://codepen.io/johnjleider/pen/zgxeLQ\"\n                  target=\"_blank\"\n                  v-on=\"on\"\n                >\n                  <v-icon large>mdi-codepen</v-icon>\n                </v-btn>\n              </template>\n              <span>Codepen</span>\n            </v-tooltip>\n          </v-col>\n        </v-row>\n        <div class=\"news_ticker\" v-if=\"newsarticles.length > 0\">\n          <v-app-bar\n            dense\n            dark\n            color=\"blue darken-4\"\n          >\n          <v-toolbar-title>News Feed</v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-text-field v-model=\"searchterm\" label=\"Search\" clearable @keyup.13=\"querySearch\"\n          dense>\n          </v-text-field>\n          </v-app-bar>\n          <div class=\"scroll\">\n            <v-expansion-panels>\n              <v-expansion-panel v-for=\"(item, i) in newsarticles\" :key=\"i\">\n                <v-expansion-panel-header> {{ item.title }} </v-expansion-panel-header>\n                <v-expansion-panel-content> Author: <strong> {{ item.author }} </strong>,\n                  Source: <strong> {{ item.source.name }} </strong>, <br>\n                  <v-btn :href='item.url' target=\"_blank\" depressed text color=\"blue\">\n                    Link To Resource</v-btn>\n                  <br>\n                  {{ item.publishedAt }}\n                </v-expansion-panel-content>\n              </v-expansion-panel>\n            </v-expansion-panels>\n          </div>\n        </div>\n        <template>\n          <GoogleChart v-if=\"showchart\" :title=\"chartTitle\"\n          :chartData=\"chartData\"></GoogleChart>\n        </template>\n      </v-container>\n    </v-content>\n    <v-footer\n      color=\"blue darken-4\"\n      app\n      dark\n    >\n      <span class=\"white--text\">&copy; Global Analytics 2020</span>\n    </v-footer>\n  </div>\n</template>\n\n<script>\n// import store from '../store';\n// import { EventBus } from '../event-bus';\nimport RepositoryFactory from '../repositories/RepositoryFactory';\n\nconst PostsRepository = RepositoryFactory.get('posts');\nexport default {\n  components: {\n  },\n  props: {\n    source: String,\n  },\n  data: () => ({\n    item: 1,\n    drawer: false,\n    newTimeObject: {},\n    nameandicons: [{ text: 'Alpha', icon: 'mdi-alpha' }, { text: 'Agriculture', icon: 'mdi-flower' }, { text: 'Economic', icon: 'mdi-chart-line' }, { text: 'SEC', icon: 'mdi-security' }, { text: 'Federal Reserve', icon: 'mdi-cash' }],\n    stockdata: false,\n    newsarticles: [],\n    searchterm: '',\n    highstockdata: [],\n    lowstockdata: [],\n    closestockdata: [],\n    openstockdata: [],\n    tickererror: false,\n    chartTitle: '',\n    chartData: [['Date', 'High', 'Low']],\n    showchart: false,\n  }),\n  methods: {\n    redirectFunc(arg) {\n      if (arg === 'Alpha') {\n        this.$router.push('/alpha');\n      } else if (arg === 'Agriculture') {\n        this.$router.push('/agriculture');\n      } else if (arg === 'Economic') {\n        this.$router.push('/economic');\n      } else if (arg === 'SEC') {\n        this.$router.push('/sec');\n      } else if (arg === 'Federal Reserve') {\n        this.$router.push('/fred');\n      }\n    },\n    async getYahooData() {\n      // this.isLoading = true;\n      const { dayData } = await PostsRepository.getYahoo();\n      // this.searchparameters = this.selectdataoption + ' / ' + this.selectstockoption;\n      this.MassageResponse(dayData);\n    },\n    MassageResponse(data) {\n      if (data === 'Error') {\n        this.tickererror = true;\n        return;\n      }\n      const startingObject = data;\n      const allKeys = Object.keys(startingObject);\n      for (let key = 0; key < 30; key += 1) {\n        let values = startingObject[allKeys[key]][0];\n        const newKey = allKeys[key].toString();\n        const newSubKey = newKey.replace(/[{()}]/g, ' ');\n        const newValue = newSubKey.replace(/,/g, ' ');\n        const lastTicker = (newValue.replace(/['\"]+/g, ''));\n        const ret = lastTicker.slice(8, 14); // Removing Closed text\n        values = Math.round(values * 100) / 100;\n        this.closestockdata.push({ ticker: ret, value: values });\n      }\n      for (let newkey = 30; newkey < 60; newkey += 1) {\n        let newvalues = startingObject[allKeys[newkey]][0];\n        const newKeys = allKeys[newkey].toString();\n        const newSubKeys = newKeys.replace(/[{()}]/g, ' ');\n        const newValues = newSubKeys.replace(/,/g, ' ');\n        const lastTickers = (newValues.replace(/['\"]+/g, ''));\n        const rets = lastTickers.slice(7, 13); // Removing Closed text\n        newvalues = Math.round(newvalues * 100) / 100;\n        this.openstockdata.push({ ticker: rets, value: newvalues });\n      }\n      for (let i = 0; i < this.openstockdata.length; i += 1) {\n        if (this.openstockdata[i].value > this.closestockdata[i].value) {\n          this.lowstockdata.push(this.openstockdata[i]);\n        } else {\n          this.highstockdata.push(this.closestockdata[i]);\n        }\n      }\n      this.stockdata = true;\n    },\n    async getNews() {\n      const payload = {\n        method: 'top-headlines',\n        country: 'us',\n      };\n\n      const { data } = await PostsRepository.postNews(payload);\n      this.newsarticles = data.articles;\n    },\n    async querySearch() {\n      this.newsarticles = [];\n      const payload = {\n        method: 'everything',\n        country: 'us',\n        keyword: this.searchterm,\n      };\n\n      const { data } = await PostsRepository.postNews(payload);\n      this.newsarticles = data.articles;\n    },\n  },\n  mounted() {\n    this.getYahooData();\n    this.getNews();\n  },\n};\n</script>\n\n<style scoped>\n.stock_ticker {\n  width: 60% !important;\n  margin: 0 auto;\n}\n.news_ticker {\n  position: fixed !important;\n  top: 50% !important;\n  left: 83% !important;\n  /* bring your own prefixes */\n  transform: translate(-50%, -50%) !important;\n  width: 30% !important;\n  height: 60% !important;\n  z-index: 100 !important;\n}\n\n.scroll {\n  height: 80% !important;\n  overflow-y: scroll !important;\n}\n\n.span_negative {\n  padding: 2px;\n}\n\n.span_positive {\n  padding: 2px;\n}\n</style>\n"]}]}