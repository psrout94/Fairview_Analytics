{"remainingRequest":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstout/fairview_analytics/flask-vue-crud/env/client/src/components/HomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/src/components/HomePage.vue","mtime":1586447105864},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pstout/fairview_analytics/flask-vue-crud/env/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7Ci8vIGltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi4vZXZlbnQtYnVzJzsKaW1wb3J0IFJlcG9zaXRvcnlGYWN0b3J5IGZyb20gJy4uL3JlcG9zaXRvcmllcy9SZXBvc2l0b3J5RmFjdG9yeSc7Cgpjb25zdCBQb3N0c1JlcG9zaXRvcnkgPSBSZXBvc2l0b3J5RmFjdG9yeS5nZXQoJ3Bvc3RzJyk7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgfSwKICBwcm9wczogewogICAgc291cmNlOiBTdHJpbmcsCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgaXRlbTogMSwKICAgIGRyYXdlcjogZmFsc2UsCiAgICBuZXdUaW1lT2JqZWN0OiB7fSwKICAgIG5hbWVhbmRpY29uczogW3sgdGV4dDogJ0FscGhhJywgaWNvbjogJ21kaS1hbHBoYScgfSwgeyB0ZXh0OiAnQWdyaWN1bHR1cmUnLCBpY29uOiAnbWRpLWZsb3dlcicgfSwgeyB0ZXh0OiAnRWNvbm9taWMnLCBpY29uOiAnbWRpLWNoYXJ0LWxpbmUnIH0sIHsgdGV4dDogJ1NFQycsIGljb246ICdtZGktc2VjdXJpdHknIH0sIHsgdGV4dDogJ0ZlZGVyYWwgUmVzZXJ2ZScsIGljb246ICdtZGktY2FzaCcgfV0sCiAgICBzdG9ja2RhdGE6IGZhbHNlLAogICAgbmV3c2FydGljbGVzOiBbXSwKICAgIHNlYXJjaHRlcm06ICcnLAogICAgaGlnaHN0b2NrZGF0YTogW10sCiAgICBsb3dzdG9ja2RhdGE6IFtdLAogICAgY2xvc2VzdG9ja2RhdGE6IFtdLAogICAgb3BlbnN0b2NrZGF0YTogW10sCiAgICB0aWNrZXJlcnJvcjogZmFsc2UsCiAgICBjaGFydFRpdGxlOiAnJywKICAgIGNoYXJ0RGF0YTogW1snRGF0ZScsICdIaWdoJywgJ0xvdyddXSwKICAgIHNob3djaGFydDogZmFsc2UsCiAgfSksCiAgbWV0aG9kczogewogICAgcmVkaXJlY3RGdW5jKGFyZykgewogICAgICBpZiAoYXJnID09PSAnQWxwaGEnKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9hbHBoYScpOwogICAgICB9IGVsc2UgaWYgKGFyZyA9PT0gJ0FncmljdWx0dXJlJykgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYWdyaWN1bHR1cmUnKTsKICAgICAgfSBlbHNlIGlmIChhcmcgPT09ICdFY29ub21pYycpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2Vjb25vbWljJyk7CiAgICAgIH0gZWxzZSBpZiAoYXJnID09PSAnU0VDJykgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc2VjJyk7CiAgICAgIH0gZWxzZSBpZiAoYXJnID09PSAnRmVkZXJhbCBSZXNlcnZlJykgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZnJlZCcpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0WWFob29EYXRhKCkgewogICAgICAvLyB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnN0IHsgZGF5RGF0YSB9ID0gYXdhaXQgUG9zdHNSZXBvc2l0b3J5LmdldFlhaG9vKCk7CiAgICAgIC8vIHRoaXMuc2VhcmNocGFyYW1ldGVycyA9IHRoaXMuc2VsZWN0ZGF0YW9wdGlvbiArICcgLyAnICsgdGhpcy5zZWxlY3RzdG9ja29wdGlvbjsKICAgICAgdGhpcy5NYXNzYWdlUmVzcG9uc2UoZGF5RGF0YSk7CiAgICB9LAogICAgTWFzc2FnZVJlc3BvbnNlKGRhdGEpIHsKICAgICAgaWYgKGRhdGEgPT09ICdFcnJvcicpIHsKICAgICAgICB0aGlzLnRpY2tlcmVycm9yID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3Qgc3RhcnRpbmdPYmplY3QgPSBkYXRhOwogICAgICBjb25zdCBhbGxLZXlzID0gT2JqZWN0LmtleXMoc3RhcnRpbmdPYmplY3QpOwogICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCAzMDsga2V5ICs9IDEpIHsKICAgICAgICBsZXQgdmFsdWVzID0gc3RhcnRpbmdPYmplY3RbYWxsS2V5c1trZXldXVswXTsKICAgICAgICBjb25zdCBuZXdLZXkgPSBhbGxLZXlzW2tleV0udG9TdHJpbmcoKTsKICAgICAgICBjb25zdCBuZXdTdWJLZXkgPSBuZXdLZXkucmVwbGFjZSgvW3soKX1dL2csICcgJyk7CiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdTdWJLZXkucmVwbGFjZSgvLC9nLCAnICcpOwogICAgICAgIGNvbnN0IGxhc3RUaWNrZXIgPSAobmV3VmFsdWUucmVwbGFjZSgvWyciXSsvZywgJycpKTsKICAgICAgICBjb25zdCByZXQgPSBsYXN0VGlja2VyLnNsaWNlKDgsIDE0KTsgLy8gUmVtb3ZpbmcgQ2xvc2VkIHRleHQKICAgICAgICB2YWx1ZXMgPSBNYXRoLnJvdW5kKHZhbHVlcyAqIDEwMCkgLyAxMDA7CiAgICAgICAgdGhpcy5jbG9zZXN0b2NrZGF0YS5wdXNoKHsgdGlja2VyOiByZXQsIHZhbHVlOiB2YWx1ZXMgfSk7CiAgICAgIH0KICAgICAgZm9yIChsZXQgbmV3a2V5ID0gMzA7IG5ld2tleSA8IDYwOyBuZXdrZXkgKz0gMSkgewogICAgICAgIGxldCBuZXd2YWx1ZXMgPSBzdGFydGluZ09iamVjdFthbGxLZXlzW25ld2tleV1dWzBdOwogICAgICAgIGNvbnN0IG5ld0tleXMgPSBhbGxLZXlzW25ld2tleV0udG9TdHJpbmcoKTsKICAgICAgICBjb25zdCBuZXdTdWJLZXlzID0gbmV3S2V5cy5yZXBsYWNlKC9beygpfV0vZywgJyAnKTsKICAgICAgICBjb25zdCBuZXdWYWx1ZXMgPSBuZXdTdWJLZXlzLnJlcGxhY2UoLywvZywgJyAnKTsKICAgICAgICBjb25zdCBsYXN0VGlja2VycyA9IChuZXdWYWx1ZXMucmVwbGFjZSgvWyciXSsvZywgJycpKTsKICAgICAgICBjb25zdCByZXRzID0gbGFzdFRpY2tlcnMuc2xpY2UoNywgMTMpOyAvLyBSZW1vdmluZyBDbG9zZWQgdGV4dAogICAgICAgIG5ld3ZhbHVlcyA9IE1hdGgucm91bmQobmV3dmFsdWVzICogMTAwKSAvIDEwMDsKICAgICAgICB0aGlzLm9wZW5zdG9ja2RhdGEucHVzaCh7IHRpY2tlcjogcmV0cywgdmFsdWU6IG5ld3ZhbHVlcyB9KTsKICAgICAgfQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3BlbnN0b2NrZGF0YS5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIGlmICh0aGlzLm9wZW5zdG9ja2RhdGFbaV0udmFsdWUgPiB0aGlzLmNsb3Nlc3RvY2tkYXRhW2ldLnZhbHVlKSB7CiAgICAgICAgICB0aGlzLmxvd3N0b2NrZGF0YS5wdXNoKHRoaXMub3BlbnN0b2NrZGF0YVtpXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaGlnaHN0b2NrZGF0YS5wdXNoKHRoaXMuY2xvc2VzdG9ja2RhdGFbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnN0b2NrZGF0YSA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgZ2V0TmV3cygpIHsKICAgICAgY29uc3QgcGF5bG9hZCA9IHsKICAgICAgICBtZXRob2Q6ICd0b3AtaGVhZGxpbmVzJywKICAgICAgICBjb3VudHJ5OiAndXMnLAogICAgICB9OwoKICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBQb3N0c1JlcG9zaXRvcnkucG9zdE5ld3MocGF5bG9hZCk7CiAgICAgIHRoaXMubmV3c2FydGljbGVzID0gZGF0YS5hcnRpY2xlczsKICAgIH0sCiAgICBhc3luYyBxdWVyeVNlYXJjaCgpIHsKICAgICAgdGhpcy5uZXdzYXJ0aWNsZXMgPSBbXTsKICAgICAgY29uc3QgcGF5bG9hZCA9IHsKICAgICAgICBtZXRob2Q6ICdldmVyeXRoaW5nJywKICAgICAgICBjb3VudHJ5OiAndXMnLAogICAgICAgIGtleXdvcmQ6IHRoaXMuc2VhcmNodGVybSwKICAgICAgfTsKCiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgUG9zdHNSZXBvc2l0b3J5LnBvc3ROZXdzKHBheWxvYWQpOwogICAgICB0aGlzLm5ld3NhcnRpY2xlcyA9IGRhdGEuYXJ0aWNsZXM7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0WWFob29EYXRhKCk7CiAgICB0aGlzLmdldE5ld3MoKTsKICB9LAp9Owo="},{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"inspire\">\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      app\n    >\n      <v-list light>\n        <v-list-item-group v-model=\"item\">\n          <v-list-item v-for=\"(item, i) in nameandicons\" :key=\"i\" value=\"home\"\n          @click=\"redirectFunc(item.text)\">\n            <v-list-item-action>\n              <v-icon v-text=\"item.icon\"></v-icon>\n            </v-list-item-action>\n            <v-list-item-content>\n              <v-list-item-title v-text=\"item.text\"></v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list-item-group>\n      </v-list>\n    </v-navigation-drawer>\n    <v-app-bar\n      app\n      color=\"blue darken-4\"\n      dark\n      dense\n    >\n      <v-snackbar\n        v-model=\"tickererror\">\n        Error Retrieving Stock Data\n        <v-btn\n          color=\"blue\"\n          text\n          left\n          @click=\"tickererror = false\"\n        >\n          Close\n        </v-btn>\n      </v-snackbar>\n      <v-app-bar-nav-icon @click.stop=\"drawer=!drawer\" />\n      <v-toolbar-title>Global Analytics</v-toolbar-title>\n      <v-system-bar class=\"stock_ticker\" v-if=\"stockdata\">\n        <marquee-text\n          :duration=\"45\">\n          &nbsp;\n          <span v-for=\"(item, index) in lowstockdata\" :key=\"index\" class=\"span_negative\">\n            {{ item.ticker }}:\n            <span class=\"badge badge-danger ml-2\">\n              {{ item.value }} </span>\n          </span>\n          <span v-for=\"item in highstockdata\" :key=\"item.ticker\" class=\"span_positive\">\n            {{ item.ticker }}:\n            <span class=\"badge badge-success ml-2\" >\n              {{ item.value }} </span>\n          </span>\n        </marquee-text>\n      </v-system-bar>\n    </v-app-bar>\n    <v-content>\n      <v-container\n        class=\"fill-height\"\n        fluid\n      >\n        <v-row\n          align=\"center\"\n          justify=\"center\"\n        >\n          <v-col class=\"text-center\">\n            <v-tooltip left>\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  :href=\"source\"\n                  icon\n                  large\n                  target=\"_blank\"\n                  v-on=\"on\"\n                >\n                  <v-icon large>mdi-code-tags</v-icon>\n                </v-btn>\n              </template>\n              <span>Source</span>\n            </v-tooltip>\n\n            <v-tooltip right>\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  icon\n                  large\n                  href=\"https://codepen.io/johnjleider/pen/zgxeLQ\"\n                  target=\"_blank\"\n                  v-on=\"on\"\n                >\n                  <v-icon large>mdi-codepen</v-icon>\n                </v-btn>\n              </template>\n              <span>Codepen</span>\n            </v-tooltip>\n          </v-col>\n        </v-row>\n        <div class=\"news_ticker\" v-if=\"newsarticles.length > 0\">\n          <v-app-bar\n            dense\n            dark\n            color=\"blue darken-4\"\n          >\n          <v-toolbar-title>News Feed</v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-text-field v-model=\"searchterm\" label=\"Search\" clearable @keyup.13=\"querySearch\"\n          dense>\n          </v-text-field>\n          </v-app-bar>\n          <div class=\"scroll\">\n            <v-expansion-panels>\n              <v-expansion-panel v-for=\"(item, i) in newsarticles\" :key=\"i\">\n                <v-expansion-panel-header> {{ item.title }} </v-expansion-panel-header>\n                <v-expansion-panel-content> Author: <strong> {{ item.author }} </strong>,\n                  Source: <strong> {{ item.source.name }} </strong>, <br>\n                  <v-btn :href='item.url' target=\"_blank\" depressed text color=\"blue\">\n                    Link To Resource</v-btn>\n                  <br>\n                  {{ item.publishedAt }}\n                </v-expansion-panel-content>\n              </v-expansion-panel>\n            </v-expansion-panels>\n          </div>\n        </div>\n        <template>\n          <GoogleChart v-if=\"showchart\" :title=\"chartTitle\"\n          :chartData=\"chartData\"></GoogleChart>\n        </template>\n      </v-container>\n    </v-content>\n    <v-footer\n      color=\"blue darken-4\"\n      app\n      dark\n    >\n      <span class=\"white--text\">&copy; Global Analytics 2020</span>\n    </v-footer>\n  </div>\n</template>\n\n<script>\n// import store from '../store';\n// import { EventBus } from '../event-bus';\nimport RepositoryFactory from '../repositories/RepositoryFactory';\n\nconst PostsRepository = RepositoryFactory.get('posts');\nexport default {\n  components: {\n  },\n  props: {\n    source: String,\n  },\n  data: () => ({\n    item: 1,\n    drawer: false,\n    newTimeObject: {},\n    nameandicons: [{ text: 'Alpha', icon: 'mdi-alpha' }, { text: 'Agriculture', icon: 'mdi-flower' }, { text: 'Economic', icon: 'mdi-chart-line' }, { text: 'SEC', icon: 'mdi-security' }, { text: 'Federal Reserve', icon: 'mdi-cash' }],\n    stockdata: false,\n    newsarticles: [],\n    searchterm: '',\n    highstockdata: [],\n    lowstockdata: [],\n    closestockdata: [],\n    openstockdata: [],\n    tickererror: false,\n    chartTitle: '',\n    chartData: [['Date', 'High', 'Low']],\n    showchart: false,\n  }),\n  methods: {\n    redirectFunc(arg) {\n      if (arg === 'Alpha') {\n        this.$router.push('/alpha');\n      } else if (arg === 'Agriculture') {\n        this.$router.push('/agriculture');\n      } else if (arg === 'Economic') {\n        this.$router.push('/economic');\n      } else if (arg === 'SEC') {\n        this.$router.push('/sec');\n      } else if (arg === 'Federal Reserve') {\n        this.$router.push('/fred');\n      }\n    },\n    async getYahooData() {\n      // this.isLoading = true;\n      const { dayData } = await PostsRepository.getYahoo();\n      // this.searchparameters = this.selectdataoption + ' / ' + this.selectstockoption;\n      this.MassageResponse(dayData);\n    },\n    MassageResponse(data) {\n      if (data === 'Error') {\n        this.tickererror = true;\n        return;\n      }\n      const startingObject = data;\n      const allKeys = Object.keys(startingObject);\n      for (let key = 0; key < 30; key += 1) {\n        let values = startingObject[allKeys[key]][0];\n        const newKey = allKeys[key].toString();\n        const newSubKey = newKey.replace(/[{()}]/g, ' ');\n        const newValue = newSubKey.replace(/,/g, ' ');\n        const lastTicker = (newValue.replace(/['\"]+/g, ''));\n        const ret = lastTicker.slice(8, 14); // Removing Closed text\n        values = Math.round(values * 100) / 100;\n        this.closestockdata.push({ ticker: ret, value: values });\n      }\n      for (let newkey = 30; newkey < 60; newkey += 1) {\n        let newvalues = startingObject[allKeys[newkey]][0];\n        const newKeys = allKeys[newkey].toString();\n        const newSubKeys = newKeys.replace(/[{()}]/g, ' ');\n        const newValues = newSubKeys.replace(/,/g, ' ');\n        const lastTickers = (newValues.replace(/['\"]+/g, ''));\n        const rets = lastTickers.slice(7, 13); // Removing Closed text\n        newvalues = Math.round(newvalues * 100) / 100;\n        this.openstockdata.push({ ticker: rets, value: newvalues });\n      }\n      for (let i = 0; i < this.openstockdata.length; i += 1) {\n        if (this.openstockdata[i].value > this.closestockdata[i].value) {\n          this.lowstockdata.push(this.openstockdata[i]);\n        } else {\n          this.highstockdata.push(this.closestockdata[i]);\n        }\n      }\n      this.stockdata = true;\n    },\n    async getNews() {\n      const payload = {\n        method: 'top-headlines',\n        country: 'us',\n      };\n\n      const { data } = await PostsRepository.postNews(payload);\n      this.newsarticles = data.articles;\n    },\n    async querySearch() {\n      this.newsarticles = [];\n      const payload = {\n        method: 'everything',\n        country: 'us',\n        keyword: this.searchterm,\n      };\n\n      const { data } = await PostsRepository.postNews(payload);\n      this.newsarticles = data.articles;\n    },\n  },\n  mounted() {\n    this.getYahooData();\n    this.getNews();\n  },\n};\n</script>\n\n<style scoped>\n.stock_ticker {\n  width: 60% !important;\n  margin: 0 auto;\n}\n.news_ticker {\n  position: fixed !important;\n  top: 50% !important;\n  left: 83% !important;\n  /* bring your own prefixes */\n  transform: translate(-50%, -50%) !important;\n  width: 30% !important;\n  height: 60% !important;\n  z-index: 100 !important;\n}\n\n.scroll {\n  height: 80% !important;\n  overflow-y: scroll !important;\n}\n\n.span_negative {\n  padding: 2px;\n}\n\n.span_positive {\n  padding: 2px;\n}\n</style>\n"]}]}